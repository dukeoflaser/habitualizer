<!-- <pre>This is the new experiments view.</pre> -->
<h4>Most Recently Created Habit: {{ lastHabit.name }}</h4><br />

<form name="newExpForm">
  <label for="habitName">Currently Selected Habit: </label><br />
  <input type="text" name="habitName" required="required" ng-model="habitName" disabled/><br /><br />

  <input type="hidden" ng-model="experiment.habit_id"/>

  <label for="searchHabit">Select A Different Habit: </label><br />
  <input ng-model="searchHabit.name" name="searchHabit" placeholder="Search..."><br /><br />

  <table id="searchHabits" ng-if="searchHabit">
    <tr ng-repeat="habit in habits | filter:searchHabit" ng-show="$index < 10" ng-click="selectHabit(habit)">
      <td>{{habit.name}}</td>
    </tr>
  </table><br />

  <h4>Current Reward: {{ currentReward }}</h4><br />

  <label for="substitute">Substitute Reward</label><br />
  <input type="text" name="substitute" required="required" ng-model="experiment.substitute_attributes.craving" placeholder="Search or Create..."/><br /><br />
  <div ng-if="newExpForm.substitute.$touched && newExpForm.substitute.$error.required">
    You need to experiment with different motivators. You'll find one that drives you.
  </div><br />

  <table id="searchRewards" ng-if="experiment.substitute_attributes">
    <tr ng-repeat="reward in rewards | filter:experiment.substitute_attributes" ng-show="$index < 10" ng-click="selectReward(reward)">
      <td>{{reward.craving}}</td>
    </tr>
  </table>

  <input type="submit" ng-click="submit(experiment)" value="Save" ng-disabled="newExpForm.$invalid" class="btn btn-theme03"/>
</form>
<br />
